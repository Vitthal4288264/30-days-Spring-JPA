FROM python:3.11-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt && playwright install --with-deps chromium

COPY src ./src
COPY .env.example ./.env

ENV PYTHONPATH=/app/src
CMD ["python", "-m", "mahitikanaja_scraper.cli", "--headless", "--output-format", "both"]
